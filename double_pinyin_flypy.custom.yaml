# å°é¹¤åŒæ‹¼çš„è‡ªå®šä¹‰é…ç½®

patch:
  schema/name: å°é¹¤åŒæ‹¼
  # "ä¸€çº§è®¾ç½®é¡¹/äºŒçº§è®¾ç½®é¡¹/ä¸‰çº§è®¾ç½®é¡¹": æ–°çš„è®¾ç½®å€¼
  # "å¦ä¸€ä¸ªè®¾ç½®é¡¹": æ–°çš„è®¾ç½®å€¼
  # "å†ä¸€ä¸ªè®¾ç½®é¡¹": æ–°çš„è®¾ç½®å€¼
  # "å«åˆ—è¡¨çš„è®¾ç½®é¡¹/@0": åˆ—è¡¨ç¬¬ä¸€ä¸ªå…ƒç´ æ–°çš„è®¾ç½®å€¼
  # "å«åˆ—è¡¨çš„è®¾ç½®é¡¹/@last": åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ æ–°çš„è®¾ç½®å€¼
  # "å«åˆ—è¡¨çš„è®¾ç½®é¡¹/@before 0": åœ¨åˆ—è¡¨ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰æ’å…¥æ–°çš„è®¾ç½®å€¼ï¼ˆä¸å»ºè®®åœ¨è¡¥ä¸ä¸­ä½¿ç”¨ï¼‰
  # "å«åˆ—è¡¨çš„è®¾ç½®é¡¹/@after last": åœ¨åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åæ’å…¥æ–°çš„è®¾ç½®å€¼ï¼ˆä¸å»ºè®®åœ¨è¡¥ä¸ä¸­ä½¿ç”¨ï¼‰
  # "å«åˆ—è¡¨çš„è®¾ç½®é¡¹/@next": åœ¨åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åæ’å…¥æ–°çš„è®¾ç½®å€¼ï¼ˆä¸å»ºè®®åœ¨è¡¥ä¸ä¸­ä½¿ç”¨ï¼‰
  # engine/filters/@next:    å…¶ä¸­@nextè¡¨ç¤ºæ·»åŠ ä¸€ä¸ªæ–°çš„é€‰é¡¹ï¼Œæ’åœ¨å·²æœ‰çš„é€‰é¡¹åé¢ï¼Œ@next1è¡¨ç¤º@nextåé¢ç¬¬äºŒä¸ªï¼Œä»¥æ­¤ç±»æ¨æ’åº


  schema/dependencies/@next:  #ä¾èµ–æ–‡ä»¶
    core   #æ·»åŠ core.schema.yamlï¼Œ è°ƒç”¨luaç²¾å‡†è¿‡æ»¤ç”Ÿåƒ»å­—

  # å¢åŠ åˆ‡æ¢é€‰å•
  switches/@next:
    name: emoji_suggestion
    reset: 1
    states: [ "ğŸ˜­ï¸", "ğŸ˜„ï¸" ]
  switches/@next1:
    name: symbol_support
    reset: 1
    states: [ "æ— ç¬¦", "ç¬¦" ]
  switches/@next2:
    name: extended_char             # luaç²¾å‡†è¿‡æ»¤ç”Ÿåƒ»å­—ï¼Œæ§åˆ¶å¼€å…³
    reset: 1                        #é»˜è®¤1ï¼Œå¸¸ç”¨
    states: ["è¶…é›†", "å¸¸ç”¨"]

  # filtersæ»¤é•œ

  #3 luaç²¾å‡†è¿‡æ»¤ï¼Œå¿…é¡»æ”¾åˆ°engine/filters:æ»¤é•œç¬¬ä¸€è¡Œï¼Œè¿™é‡Œç”¨"@before 0"åœ¨åˆ—è¡¨ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰æ’å…¥æ–°çš„è®¾ç½®å€¼
  engine/filters/@before 0: "lua_filter@core"       

  # æ·»åŠ  emoji æ»¤é•œ
  engine/filters/@next1: "simplifier@emoji_suggestion"       

  # æ·»åŠ  symbol æ»¤é•œ
  engine/filters/@next2: "simplifier@symbol_support"

  # processors
  # æ·»åŠ  ä»¥è¯å®šå¥
  engine/processors/@next: "lua_processor@select_character_processor"

  # translators
  # æ·»åŠ  è°ƒç”¨custom_phraseè‡ªå®šä¹‰çŸ­è¯­
  engine/translators/@next: "table_translator@custom_phrase"

  # æ·»åŠ  è°ƒç”¨Rime-luaæ’ä»¶ï¼Œè‡ªå®šä¹‰ç³»ç»Ÿå˜é‡è¾“å‡ºæ—¥æœŸã€æ˜ŸæœŸã€æ—¶é—´ç±»å‹è¾“å‡º
  engine/translators/@next1: "lua_translator@date_translator"

  # æ·»åŠ  ç®€æ˜“è®¡ç®—å™¨luaï¼ŒæŒ‰ç¬¦å·"="æ¿€æ´»è®¡ç®—å™¨
  engine/translators/@next2: "lua_translator@calculator_translator"
  recognizer/patterns/expression: "^=.*$"

  #emojiè¡¨æƒ…
  emoji_suggestion:
    opencc_config: emoji.json
    option_name: emoji_suggestion
    tips: all
  reverse_lookup: {}

  #symbolç¬¦å·
  symbol_support:
    opencc_config: symbol.json
    option_name: symbol_support
    tips: all

  # è‡ªå®šä¹‰çŸ­è¯­ Custom_phrase.txt # Tab ä¸èƒ½ç”¨ç©ºæ ¼ä»£æ›¿
  custom_phrase:
    dictionary: ""
    user_dict: custom_phrase     #è®¾å®šç”¨æˆ·è¯å…¸å
    db_class: stabledb           #è®¾å®šç”¨æˆ·è¯å…¸ç±»å‹ï¼Œå¯è®¾ tabledbã€”æ–‡æœ¬ã€•æˆ– userdbã€”äºŒè¿›åˆ¶ã€•
    enable_completion: false     #æå‰æ˜¾ç¤ºå°šæœªè¾“å…¥å®Œæ•´ç çš„å­—ã€”true æˆ– falseã€•
    enable_sentence: false       #æ˜¯å¦å¼€å¯è‡ªåŠ¨é€ å¥ã€”true æˆ– falseã€•
    initial_quality: 1           #è®¾å®šæ­¤ç¿»è¯‘å™¨ç»“æœä¼˜å…ˆçº§ï¼Œå¦‚æœæƒ³è¦è‡ªå®šä¹‰çš„è¯æ’åœ¨å‰é¢ï¼Œè¿™ä¸ªå€¼å°½é‡è®¾å¤§ä¸€ç‚¹

  # #è¼‰å…¥æ“´å……è©åº«
  'translator/dictionary': Qiao.extended
  #åŒæ‹¼ä¸è‡ªåŠ¨æ˜¾ç¤ºå…¨æ‹¼å­—æ¯
  # 'translator/preedit_format': {}


  # è‡ªå®šä¹‰ç¬¦å·ä¸Šå±
  punctuator:
    import_preset: symbols
    symbols:
      "/fs": [Â½, â€°, Â¼, â…“, â…”, Â¾, â…’ ]
      "/bq": [ğŸ˜‚ï¸, ğŸ˜…ï¸, â˜ºï¸, ğŸ˜±ï¸, ğŸ˜­ï¸, ğŸ˜‡ï¸, ğŸ™ƒï¸, ğŸ¤”ï¸, ğŸ’Šï¸, ğŸ’¯ï¸, ğŸ‘ï¸, ğŸ™ˆï¸, ğŸ’©ï¸, ğŸ˜ˆï¸ ]
      "/dn": [âŒ˜, âŒ¥, â‡§, âŒƒ, â‹, â‡ª, ï£¿, âŒ«, âŒ¦, â†©ï¸, â, â†‘, â†“, â†, â†’, â†–, â†˜, â‡Ÿ, â‡]
      "/fh": [ Â©, Â®, â„—, â“˜, â„ , â„¢, â„¡, â¡, â™‚, â™€, â˜‰, â˜Š, â˜‹, â˜Œ, â˜, â˜, â˜‘ï¸, â˜’, â˜œ, â˜, â˜, â˜Ÿ, âœ, âœ„, â™», âš, âš‘, âš ]
      "/xh": [ ï¼Š, Ã—, âœ±, â˜…, â˜†, âœ©, âœ§, â‹, âŠ, â‰, âˆ, â…, âœ¿, âœ²]
    full_shape:
      '/' : [ ï¼, Ã· ]
    half_shape:
      "#": "#"
      "*": "*"
      "`": "`"
      "~": "~"
      "@": "@"
      "=": "="
      "/": ["/", "Ã·",]
      '\': "ã€"
      "_" : "â”€â”€"
      "'": {pair: ["ã€Œ", "ã€"]}
      "[": ["ã€", "["]
      "]": ["ã€‘", "]"]
      "$": ["Â¥", "$", "â‚¬", "Â£", "Â¢", "Â¤"]
      "<": ["ã€Š", "ã€ˆ", "Â«", "<"]
      ">": ["ã€‹", "ã€‰", "Â»", ">"]

  recognizer/patterns/punct: "^/([0-9]0?|[A-Za-z]+)$"

  # "key_binder/bindings": # è®¾ç½®å“ªäº›é”®å¯ä»¥ç¿»é¡µï¼Œéœ€è¦å“ªä¸ªå–æ¶ˆæ³¨é‡Šå³å¯ 
  #   - { when: always, accept: Control+Shift+2, toggle: simplification }
  #   - { when: always, accept: Control+Shift+at, toggle: simplification }